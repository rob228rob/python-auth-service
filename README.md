# Custom Single-Sign-On based on JsonWebToken
## With Oauth providers: Yandex & VK

Кастомный сервис авторизации поддерживает различные функции:

* регистрация
* взаимодействие с сервисом отправки сообщений в телеграм чат
* вход через внешних провайдеров
* валидацию и обновление токенов


### Подробнее

* GET http://localhost:8080/docs - swagger документация

* GET http://localhost:8000/auth/login/{provider} , provider = [yandex, vk] - эндпоинт для редиректа на провайдера авторизации
* POST http://localhost:8000/auth/register - эндпоинт для регистрации и получения пары токенов
* POST http://localhost:8000/auth/refresh - эндпоинт для обновления access токена
* GET http://localhost:8000/auth/validate - эндпоинт для валидации токена
* GET http://localhost:8000/auth/callback/provider - функции обратного вызова которые будут обрабатывать ответы от серверов авторизации


### Сервисы:

**[1]** app - основной сервис, отвечающий за бизнес логику авторизации \
**[2]** notifier - сервис, в фоновом режиме слушающий кафку \
**[3]** postgres - база данных для персистентного хранения информации о юзерах \
**[4]** kafka (+ zookeper) - сконфигурированный брокер для обеспечения малой связности

Для запуска достаточно из корневой директории выполнить:
```angular2html
docker-compose up --build
```

Образы будут собраны автоматически на основе докерфайлоd из папки /docker